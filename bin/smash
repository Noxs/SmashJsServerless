#!/usr/bin/env node

'use strict';

var program = require('commander');
var utils = require("../lib/utils.js");

program.command('init:aws')
        .description('initialize lambda index.js, codebuild buildspec.yml, smash config.json, and directories')
        .action(function () {
            utils.initAws();
            process.exit(0);
        });

program.command('init:lambda')
        .description('initialize lambda index.js')
        .action(function () {
            utils.initLambda();
            process.exit(0);
        });

program.command('init:config')
        .description('initialize smash config.json')
        .action(function () {
            utils.initConfig();
            process.exit(0);
        });

program.command('init:codebuild')
        .description('initialize codebuild buildspec.yml')
        .action(function () {
            utils.initCodebuild();
            process.exit(0);
        });

program.command('init:directories')
        .description('initialize directories structure')
        .action(function () {
            utils.initDirectories();
            process.exit(0);
        });

program.command('controller <name>')
        .description('create controller file')
        .action(function (name) {
            utils.createNewController(name);
            process.exit(0);
        });

program.command('database <name>')
        .description('create database file')
        .action(function (name) {
            utils.createNewDatabase(name);
            process.exit(0);
        });

program.command('utils <name>')
        .description('create util file')
        .action(function (name) {
            utils.createNewUtil(name);
            process.exit(0);
        });

program.command('router debug')
        .description('Print routes')
        .action(function (name) {
            //TODO
            //TODO debug command for print routes
            //check if routes are uniq???
            process.exit(0);
        });


program.parse(process.argv);